<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Viaje del Impulso Eléctrico</title>
    
    <link rel="stylesheet" href="../../lib/modulos-style.css">
    <link rel="stylesheet" href="../../lib/storytelling-style.css">
</head>
<body class="layout-document">

<div class="module-header">
    <img src="/landing-page/images/logo-enarmaps.png" alt="Logo ENARMaps" class="module-logo">
    <h1 class="module-title">El Viaje del Impulso Eléctrico</h1>
    <h2 class="module-subtitle">Un Recorrido Interactivo por la Fisiología y los Bloqueos Cardíacos</h2>
</div>

<div class="report-container">
    <div class="page">
        <div style="margin-bottom: 25px;">
             <a href="/webapp/boveda.html" class="ui-button button-secondary" style="min-width: 250px; display: inline-flex; align-items: center; justify-content: center; gap: 8px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                Regresar a la Bóveda
            </a>
        </div>

        <h1>Capítulo 1: El Decreto del Rey</h1>
        <p>En el "Reino del Corazón", todo funciona gracias a un mensajero veloz: el <strong>Impulso Eléctrico</strong>. Su viaje determina cada latido, comenzando en el trono del rey, el <strong>Nodo Sinusal (SA)</strong>, lo que genera la <strong>Onda P</strong> en el ECG.</p>
        
        <div class="cardiac-simulator-container">
            <h3>Simulador: Bloqueos en el Camino</h3>
            <ul class="simulator-instructions">
                <li><strong>Nodo AV:</strong> BAV 1º, Mobitz I, Mobitz II, BAV 3º</li>
                <li><strong>Ramas:</strong> BRDHH, BRIHH</li>
                <li><strong>Fascículos:</strong> HBAI, HBPI</li>
            </ul>
            <p>Haz clic en una parte del sistema de conducción para "bloquearla" y ver qué sucede en el ECG animado.</p>

            <div class="simulator-flex-wrapper">
                <div style="width: 100%; text-align: center; margin-bottom: 15px;">
                    <button id="reset-ecg-button" class="ui-button button-secondary">Ritmo Normal</button>
                </div>
                <div class="heart-diagram-wrapper">
                    <svg viewBox="0 0 200 220" class="heart-svg">
                        <path d="M 100,210 C 20,130 50,50 100,90 C 150,50 180,130 100,210 Z" class="heart-outline"/>
                        <path d="M 100,100 L 100,120 L 85,145 L 75,180" class="conduction-path" id="path-bri"/>
                        <path d="M 100,120 L 115,145 L 125,180" class="conduction-path" id="path-brd"/>
                        <path d="M 85,145 L 70,140 L 60,160" class="conduction-path" id="path-hbai"/>
                        <path d="M 85,145 L 90,165 L 80,190" class="conduction-path" id="path-hbpi"/>
                        <path d="M 100,100 L 100,120" class="conduction-path" id="path-his"/>
                        <circle cx="120" cy="80" r="8" class="node" id="node-sa"/>
                        <circle cx="100" cy="100" r="10" class="node" id="node-av"/>
                        <text x="132" y="85" class="label">SA</text>
                        <text x="105" y="105" class="label">AV</text>
                        <text x="110" y="130" class="label-small">RD</text>
                        <text x="75" y="130" class="label-small">RI</text>
                        <text x="45" y="145" class="label-tiny">FAI</text>
                        <text x="92" y="175" class="label-tiny">FPI</text>
                    </svg>
                    <div class="hotspot" data-block="bav1" title="Retraso en Nodo AV (BAV 1er Grado)"></div>
                    <div class="hotspot" data-block="mobitz1" title="Bloqueo en Nodo AV (Mobitz I)"></div>
                    <div class="hotspot" data-block="mobitz2" title="Bloqueo bajo el Nodo AV (Mobitz II)"></div>
                    <div class="hotspot" data-block="bav3" title="Bloqueo completo AV (BAV 3er Grado)"></div>
                    <div class="hotspot" data-block="brd" title="Bloqueo de Rama Derecha"></div>
                    <div class="hotspot" data-block="bri" title="Bloqueo de Rama Izquierda"></div>
                    <div class="hotspot" data-block="hbai" title="Hemibloqueo Anterior Izquierdo"></div>
                    <div class="hotspot" data-block="hbpi" title="Hemibloqueo Posterior Izquierdo"></div>
                    <div class="hotspot" data-block="normal" title="Restablecer a Ritmo Normal"></div>
                </div>

                <div class="ecg-display-wrapper">
                    <div class="ecg-screen">
                        <canvas id="ecg-canvas"></canvas>
                    </div>
                    <div id="ecg-description" class="ecg-description-box">
                        Selecciona una parte del sistema de conducción para empezar la simulación.
                    </div>
                </div>
            </div>
        </div>
        </div>
</div>

<script src="../../lib/storytelling-logic.js"></script>

</body>
</html>



