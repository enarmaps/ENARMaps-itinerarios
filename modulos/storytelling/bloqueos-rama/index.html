<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Superautopistas Interrumpidas: Bloqueos de Rama</title>
    
    <link rel="stylesheet" href="../../lib/modulos-style.css">
    <link rel="stylesheet" href="../../lib/storytelling-style.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="layout-document">

<div class="module-header">
    <img src="../../../landing-page/images/logo-enarmaps.png" alt="Logo ENARMaps" class="module-logo">
    <h1 class="module-title">Superautopistas Interrumpidas</h1>
    <h2 class="module-subtitle">Una Historia de Bloqueos de Rama</h2>
</div>

<div class="report-container">
    <div class="page">
        <div class="story-step" id="scene1">
            <h3>Capítulo 1: Viaje a Velocidad de la Luz</h3>
            <p>El viaje comienza en el Nodo SA, pasa por el Nodo AV, y se divide en el Haz de His. En un reino sano, el impulso eléctrico viaja simultáneamente por la <strong>Rama Derecha</strong> y la <strong>Rama Izquierda</strong>, garantizando una contracción ventricular rápida, potente y sincronizada.</p>
            
            <div class="analogy-box">
                <p><strong>Recuerda:</strong> Este viaje veloz y simultáneo produce un <strong>Complejo QRS estrecho</strong> (<0.12s) en el electrocardiograma (GPC México/CENETEC).</p>
            </div>
            
            <button class="reveal-button" onclick="revealScene('scene2')">¿Qué pasa si hay un derrumbe?</button>
        </div>

        <div id="scene2" class="story-step hidden-scene">
            <h3>Capítulo 2: El Simulador de Bloqueos</h3>
            <p>A continuación, simula un "derrumbe" en las superautopistas. Observa cómo el impulso se desvía y afecta el QRS. Haz clic en las opciones para explorar.</p>
            
            <div class="bundle-branch-simulator">
                <div class="heart-svg-container">
                    <svg viewBox="0 0 300 350" xmlns="http://www.w3.org/2000/svg">
                        <path id="left-atrium" d="M 150 50 Q 220 50, 220 100 L 220 150 L 150 150 Z" fill="#a0c4ff" stroke="#6b7b8c" stroke-width="2"/>
                        <path id="right-atrium" d="M 150 50 Q 80 50, 80 100 L 80 150 L 150 150 Z" fill="#a0c4ff" stroke="#6b7b8c" stroke-width="2"/>
                        <path id="left-ventricle" d="M 150 150 L 220 150 L 220 250 Q 150 320, 80 250 L 80 150 Z" fill="#ffadad" stroke="#6b7b8c" stroke-width="2"/>
                        <path id="right-ventricle" d="M 150 150 L 80 150 L 80 250 Q 150 320, 220 250 L 220 150 Z" fill="#ffadad" stroke="#6b7b8c" stroke-width="2" transform="scale(0.95) translate(8, 8)"/>
                    
                        <circle id="sa-node" cx="110" cy="80" r="8" fill="var(--color-accent-orange)"/>
                        <circle id="av-node" cx="150" cy="140" r="8" fill="var(--color-accent-orange)"/>
                    
                        <g id="conduction-system" stroke-width="4" stroke-linecap="round" fill="none">
                            <path id="bundle-of-his" d="M 150 148 V 170" stroke="var(--color-primary-dark)"/>
                    
                            <path id="right-bundle-branch" class="branch" d="M 150 170 C 140 180, 120 200, 110 250" stroke="var(--color-primary-light)"/>
                    
                            <path id="left-bundle-branch" class="branch" d="M 150 170 C 160 180, 180 190, 190 200" stroke="var(--color-primary-light)"/>
                    
                            <path id="left-anterior-fascicle" class="branch" d="M 190 200 C 210 200, 210 220, 200 240" stroke="var(--color-primary-light)"/>
                    
                            <path id="left-posterior-fascicle" class="branch" d="M 190 200 C 180 220, 180 240, 170 260" stroke="var(--color-primary-light)"/>
                        </g>
                        <circle id="pulse" r="5" fill="yellow" style="opacity:0;"></circle>
                    </svg>
                </div>
                <div class="simulator-controls">
                    <p><strong>Selecciona una simulación:</strong></p>
                    <button class="sim-button" id="btn-normal">Ritmo Normal</button>
                    <button class="sim-button" id="btn-rbbb">Bloqueo de Rama Derecha</button>
                    <button class="sim-button" id="btn-lbbb">Bloqueo de Rama Izquierda</button>
                    <button class="sim-button" id="btn-lafh">Hemibloqueo Anterior</button>
                    <button class="sim-button" id="btn-lpfh">Hemibloqueo Posterior</button>
                    <div id="explanation-box" class="explanation-box">
                        Selecciona una opción para ver la animación y la explicación.
                    </div>
                </div>
            </div>
            
            <button class="reveal-button" onclick="revealScene('scene3')">Ver el Resumen para el ENARM</button>
        </div>

        <div id="scene3" class="story-step hidden-scene">
            <h3>Capítulo 3: Resumen de Alto Rendimiento para el ENARM</h3>
            <p>Entender los bloqueos de rama es clave para interpretar un EKG. A continuación, ejemplos de EKGs basados en tus trazos adaptados a guías (GPC México/CENETEC, AHA 2022).</p>
            <ul>
                <li><strong>Ritmo Normal:</strong> QRS estrecho (<0.12s), eje entre -30° y +90°. <div class="ecg-simulator-container"><svg class="ecg-strip" viewBox="0 0 500 100"><path class="ecg-path" d="M 50 50 C 60 40, 70 30, 80 50 L 90 50 L 100 45 L 110 55 L 120 50 L 130 50" /></svg></div> (GPC México/CENETEC)</li>
                <li><strong>Bloqueo de Rama Derecha (BCRD):</strong> QRS ancho (>0.12s), rSR' en V1, S profunda en I/V5-V6, eje >+90°. <div class="ecg-simulator-container"><svg class="ecg-strip" viewBox="0 0 500 100"><path class="ecg-path" d="M 50 50 C 60 40, 70 30, 80 50 L 90 50 L 100 20 L 110 80 L 120 30 L 140 50 L 150 60 L 160 50" /></svg></div> (AHA 2022)</li>
                <li><strong>Bloqueo de Rama Izquierda (BCRI):</strong> QRS ancho (>0.12s), R ancha en V5-V6, eje <-30°. <div class="ecg-simulator-container"><svg class="ecg-strip" viewBox="0 0 500 100"><path class="ecg-path" d="M 50 50 C 60 40, 70 30, 80 50 L 90 50 L 100 20 L 120 90 L 140 40 L 160 60 L 180 50" /></svg></div> (AHA 2022)</li>
                <li><strong>Hemibloqueo Anterior Izquierdo (HBAI):</strong> QRS estrecho, qR en I/aVL, eje <-30°. <div class="ecg-simulator-container"><svg class="ecg-strip" viewBox="0 0 500 100"><path class="ecg-path" d="M 50 50 C 60 40, 70 30, 80 50 L 90 50 L 100 10 L 110 70 L 120 50" /></svg></div> (AHA 2022)</li>
                <li><strong>Hemibloqueo Posterior Izquierdo (HBPI):</strong> QRS estrecho, qR en II/III/aVF, eje >+90°. <div class="ecg-simulator-container"><svg class="ecg-strip" viewBox="0 0 500 100"><path class="ecg-path" d="M 50 50 C 60 40, 70 30, 80 50 L 90 50 L 100 20 L 110 80 L 120 30 L 130 50" /></svg></div> (AHA 2022)</li>
            </ul>
            <a href="../../../webapp/boveda.html" class="reveal-button" style="text-decoration: none; text-align: center; margin-top: 30px;">
                Finalizar y Volver a la Bóveda
            </a>
        </div>
    </div>
</div>

<script src="../../lib/storytelling-logic.js"></script>
<script src="script.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPPYVH6MTY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZPPYVH6MTY');
</script>

</body>
</html>
